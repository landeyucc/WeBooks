# ğŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚
- Node.js 18+ 
- PostgreSQL æ•°æ®åº“
- å·²é…ç½®çš„ .env æ–‡ä»¶

## âš¡ å¿«é€Ÿå¯åŠ¨

### æ–¹æ³•ä¸€ï¼šè‡ªåŠ¨åˆå§‹åŒ–ï¼ˆæ¨èï¼‰

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. è¿è¡Œåˆå§‹åŒ–è„šæœ¬ï¼ˆè‡ªåŠ¨é…ç½®æ•°æ®åº“ï¼‰
node scripts/init-database.js

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### æ–¹æ³•äºŒï¼šä½¿ç”¨æ›´æ–°åçš„å¼€å‘å‘½ä»¤

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆè‡ªåŠ¨åˆå§‹åŒ–æ•°æ®åº“ï¼‰
npm run dev

# 3. æµè§ˆå™¨è®¿é—® http://localhost:3000
```

## ğŸ”§ è¯¦ç»†æ­¥éª¤

### 1. ç¯å¢ƒé…ç½®
ç¡®ä¿ `.env` æ–‡ä»¶å­˜åœ¨å¹¶é…ç½®æ­£ç¡®ï¼š
```env
DATABASE_URL=postgresql://username:password@host:port/database
JWT_SECRET=your-jwt-secret
NEXTAUTH_SECRET=your-nextauth-secret
NEXTAUTH_URL=http://localhost:3000
DEFAULT_USER_ID=your-default-user-id
```

### 2. æ•°æ®åº“åˆå§‹åŒ–
è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- âœ… æ£€æŸ¥ Prisma é…ç½®
- âœ… éªŒè¯ç¯å¢ƒå˜é‡
- âœ… ç”Ÿæˆ Prisma Client
- âœ… åŒæ­¥æ•°æ®åº“ç»“æ„
- âœ… éªŒè¯è¿æ¥çŠ¶æ€

### 3. ç¬¬ä¸€æ¬¡å¯åŠ¨
1. å¯åŠ¨åè®¿é—® http://localhost:3000
2. ç³»ç»Ÿä¼šæ£€æµ‹åˆ°æœªåˆå§‹åŒ–ï¼Œæ˜¾ç¤ºåˆå§‹åŒ–å¯¹è¯æ¡†
3. å¡«å†™ç®¡ç†å‘˜ä¿¡æ¯å®Œæˆåˆå§‹åŒ–ï¼š
   - ç”¨æˆ·åï¼šyour-username
   - å¯†ç ï¼šadmin123ï¼ˆæˆ–è‡ªå®šä¹‰ï¼‰
   - é‚®ç®±ï¼šï¼ˆå¯é€‰ï¼‰

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `npm run dev` | å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆè‡ªåŠ¨åˆå§‹åŒ–æ•°æ®åº“ï¼‰|
| `npm run build` | æ„å»ºç”Ÿäº§ç‰ˆæœ¬ |
| `npm run start` | å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨ |
| `npm run lint` | ä»£ç æ£€æŸ¥ |
| `npm run db:init` | æ‰‹åŠ¨åˆå§‹åŒ–æ•°æ®åº“ç»“æ„ |
| `npm run db:reset` | é‡ç½®æ•°æ®åº“ï¼ˆæ¸…ç©ºæ•°æ®ï¼‰ |
| `node test-script/check-db-status.js` | æ£€æŸ¥æ•°æ®åº“çŠ¶æ€ |
| `node test-script/reset-database.js` | å®‰å…¨é‡ç½®æ•°æ®åº“ |

## ğŸ” æ•…éšœæ’é™¤

### æ•°æ®åº“è¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥æ•°æ®åº“é…ç½®
node scripts/init-database.js

# æ‰‹åŠ¨åŒæ­¥æ•°æ®åº“
npx prisma db push

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯
npx prisma db push --verbose
```

### æƒé™é”™è¯¯
å¦‚æœé‡åˆ° EPERM æƒé™é”™è¯¯ï¼š
```bash
# æ¸…ç† node_modules é‡æ–°å®‰è£…
rm -rf node_modules package-lock.json
npm install
```

### åˆå§‹åŒ–å¤±è´¥
```bash
# é‡ç½®æ•°æ®åº“
npm run db:reset

# é‡æ–°åˆå§‹åŒ–
node scripts/init-database.js
```

## ğŸ“Š è„šæœ¬è¯´æ˜

### scripts/init-database.js
è‡ªåŠ¨æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ï¼ŒåŒ…å«ï¼š
- ğŸ” ç¯å¢ƒæ£€æŸ¥
- ğŸ”— è¿æ¥æµ‹è¯•
- ğŸ“¦ ç»“æ„åŒæ­¥
- âœ… çŠ¶æ€éªŒè¯

### test-script/ ç›®å½•ä¸‹çš„è„šæœ¬
- `check-db-status.js` - æ£€æŸ¥æ•°æ®åº“çŠ¶æ€
- `reset-database.js` - å®‰å…¨é‡ç½®æ•°æ®åº“
- `hard-reset-database.js` - å®Œå…¨é‡ç½®æ•°æ®åº“
- `check-and-fix-user.js` - åˆ›å»ºç¤ºä¾‹æ•°æ®

## ğŸŒŸ é¦–æ¬¡ä½¿ç”¨å»ºè®®

1. **ä½¿ç”¨è‡ªåŠ¨åˆå§‹åŒ–**ï¼šè¿è¡Œ `node scripts/init-database.js`
2. **æ£€æŸ¥æ•°æ®åº“çŠ¶æ€**ï¼š`node test-script/check-db-status.js`
3. **åˆ›å»ºç¤ºä¾‹æ•°æ®**ï¼š`node test-script/check-and-fix-user.js`
4. **è®¿é—®åº”ç”¨**ï¼šhttp://localhost:3000

## ğŸ“ æ³¨æ„äº‹é¡¹

- ğŸ”’ ç¡®ä¿ `.env` æ–‡ä»¶å®‰å…¨ï¼Œä¸è¦æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
- ğŸ—„ï¸ æ•°æ®åº“é‡ç½®ä¼šåˆ é™¤æ‰€æœ‰æ•°æ®ï¼Œè¯·è°¨æ…ä½¿ç”¨
- ğŸ”„ å¼€å‘æ—¶ä½¿ç”¨ `npm run dev` å¯åŠ¨ï¼Œä¼šè‡ªåŠ¨åˆå§‹åŒ–æ•°æ®åº“
- ğŸ“Š å®šæœŸå¤‡ä»½é‡è¦æ•°æ®

---

ğŸ’¡ **æç¤º**ï¼šå¦‚æœé‡åˆ°é—®é¢˜ï¼Œé¦–å…ˆè¿è¡Œ `node scripts/init-database.js` é‡æ–°åˆå§‹åŒ–æ•°æ®åº“ï¼