# ========================================
# Webooks Docker 环境配置模板
# ========================================
# 复制此文件为 .env 并根据实际情况修改配置值

# ================================
# 应用基本配置
# ================================

# Node.js 环境
NODE_ENV=production

# 应用端口
PORT=3000

# ================================
# 数据库配置
# ================================

# PostgreSQL 连接信息
POSTGRES_DB=webooks
POSTGRES_USER=webooks_user
POSTGRES_PASSWORD=your_secure_database_password_here
POSTGRES_HOST=database
POSTGRES_PORT=5432

# 数据库连接 URL (将自动构建为: postgresql://user:password@host:port/database)
DATABASE_URL=postgresql://webooks_user:your_secure_database_password_here@database:5432/webooks

# ================================
# 安全配置
# ================================

# JWT 密钥 (请生成强密钥用于生产环境)
JWT_SECRET=your-super-secret-jwt-key-at-least-32-characters-long

# NextAuth.js 密钥 (请生成强密钥用于生产环境)
NEXTAUTH_SECRET=your-nextauth-secret-at-least-32-characters-long

# NextAuth.js 基础 URL
NEXTAUTH_URL=http://localhost:3000

# ================================
# Redis 配置 (可选)
# ================================

# Redis 连接信息
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=

# ================================
# 邮件服务配置 (可选)
# ================================

# SMTP 邮件配置
SMTP_HOST=your.smtp.server.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@example.com
SMTP_PASSWORD=your_email_password

# 邮件发送者
MAIL_FROM=noreply@webooks.com

# ================================
# 第三方服务配置 (可选)
# ================================

# OAuth 提供商配置
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# API 密钥
API_KEY=your_api_key_for_external_services

# ================================
# 文件上传配置
# ================================

# 最大文件上传大小 (MB)
MAX_FILE_SIZE=10

# 上传文件类型限制 (逗号分隔)
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,xls,xlsx,ppt,pptx,txt,csv

# ================================
# 日志配置
# ================================

# 日志级别
LOG_LEVEL=info

# 日志输出
LOG_OUTPUT=file

# ================================
# 缓存配置
# ================================

# 缓存 TTL (秒)
CACHE_TTL=3600

# ================================
# 限流配置
# ================================

# API 限流 (每分钟请求数)
RATE_LIMIT_PER_MINUTE=60

# ================================
# 备份配置 (可选)
# ================================

# 数据库备份
DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE=0 2 * * *  # 每天凌晨2点
DB_BACKUP_RETENTION_DAYS=30

# ================================
# 监控配置 (可选)
# ================================

# 健康检查端点
HEALTH_CHECK_ENDPOINT=/api/health

# 性能监控
ENABLE_METRICS=true

# ================================
# 开发/测试配置
# ================================

# 是否启用开发模式
DEBUG=false

# 测试数据库
TEST_DATABASE_URL=postgresql://webooks_user:webooks_password@database:5432/webooks_test

# ================================
# 安全注意事项
# ================================
# 1. 在生产环境中，必须修改所有默认密码和密钥
# 2. 使用强密码：至少12位字符，包含大小写字母、数字和特殊字符
# 3. 定期轮换密钥和密码
# 4. 不要将 .env 文件提交到版本控制系统
# 5. 在生产环境中使用安全的密钥管理服务
# 6. 确保数据库和Redis使用强密码
# 7. 配置防火墙限制网络访问
